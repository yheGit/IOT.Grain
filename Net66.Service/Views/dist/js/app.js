webpackJsonp([22],{10:function(t,e,n){"use strict";e.a={state:{AoJianList:[]},setAoJianList:function(t){this.state.AoJianList=t}}},127:function(t,e,n){n(140);var a=n(1)(n(148),n(134),null,null);t.exports=a.exports},128:function(t,e){},129:function(t,e){},130:function(t,e,n){"use strict";function a(t){return function(){return n(154)("./"+t+".vue")}}var i=n(8),r=n(145);i.a.use(r.a),e.a=new r.a({routes:[{path:"/",redirect:{name:"GrainList"}},{path:"/Grain",component:a("Grain"),children:[{path:"",redirect:{name:"GrainList"}},{path:"GrainList",name:"GrainList",component:a("view/GrainList"),children:[{path:"AoJianList/:id",name:"AoJianList",component:a("GrainList/AoJianList"),children:[{path:"DuiWei/:id",name:"DuiWei",component:a("GrainList/DuiWei")}]}]},{path:"YuanDuiWei",name:"YuanDuiWei",component:a("view/AoJian")},{path:"DuiWeiMo/:id",name:"DuiWeiMo",component:a("view/AoJian")},{path:"AoJian/:id",name:"AoJian",component:a("view/AoJian")},{path:"YuanTong/:id",name:"YuanTong",component:a("view/AoJian")},{path:"ChuanGan/:id",name:"ChuanGan",component:a("view/ChuanGan")},{path:"LiangCang/:id",name:"LiangCang",component:a("view/LiangCang")}]},{path:"/GuanLi",component:a("GuanLi"),children:[{path:"",redirect:{name:"CGQGL"}},{path:"CGQGL",name:"CGQGL",component:a("view/GuanLi/CGQGL")},{path:"BuMen",name:"BuMen",component:a("view/GuanLi/BuMen")}]},{path:"/layout",component:a("layout/Hello")},{path:"/view",component:a("view/Hello")},{path:"*",component:a("Error404")}]})},133:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chuanganchart"},[n("div",{ref:"chart"})])},staticRenderFns:[]}},134:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"q-app"}},[n("router-view")],1)},staticRenderFns:[]}},135:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chuanganpingmian"},t._l(t.sensorData.slice(1),function(e,a){return n("div",{staticClass:"item"},[n("div",{staticClass:"row item-content"},[n("div",{staticClass:"item-label row items-center"},[t._v("\n            码层"+t._s(Number(a)+1)+"：\n          ")]),t._v(" "),n("div",{staticClass:"item-value auto"},t._l(e.slice(1),function(e){return n("div",{staticClass:"row"},t._l(t.length-1,function(a){return n("div",{staticClass:"chuangan-item text-center width-1of1",style:{color:e&&e[a]&&e[a].color}},[t._v("\n                  "+t._s(e&&e[a]&&e[a].temp)+"\n                  "),e&&e[a]?n("q-tooltip",[n("p",[t._v(t._s(e&&e[a].Number))]),t._v(" "),n("p",[t._v("温度："+t._s(e&&e[a].temp)+"°C")])]):t._e()],1)}))}))])])}))},staticRenderFns:[]}},136:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chuangan-line"},[n("div",{ref:"chart"}),t._v(" "),n("q-modal",{ref:"modal",attrs:{"content-css":{minWidth:"60vw",minHeight:"60vh"}},on:{open:function(e){t.modalEvent("open")},close:function(e){t.modalEvent("close")}}},[n("q-layout",[n("div",{staticClass:"toolbar",slot:"header"},[n("button",{on:{click:function(e){t.$refs.modal.close()}}},[n("i",[t._v("keyboard_arrow_left")])]),t._v(" "),n("q-toolbar-title",{attrs:{padding:1}},[t._v("\n            "+t._s(t.x)+"单位高度截面分布展示\n        ")])],1),t._v(" "),n("div",{staticClass:"layout-view"},[n("div",{ref:"polarChart",staticClass:"polarChart"})])])],1)],1)},staticRenderFns:[]}},137:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"chuangan3d"})},staticRenderFns:[]}},139:function(t,e){},140:function(t,e){},141:function(t,e){},142:function(t,e){},143:function(t,e){},144:function(t,e,n){function a(t){return n(i(t))}function i(t){var e=r[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var r={"./af":11,"./af.js":11,"./ar":18,"./ar-dz":12,"./ar-dz.js":12,"./ar-kw":13,"./ar-kw.js":13,"./ar-ly":14,"./ar-ly.js":14,"./ar-ma":15,"./ar-ma.js":15,"./ar-sa":16,"./ar-sa.js":16,"./ar-tn":17,"./ar-tn.js":17,"./ar.js":18,"./az":19,"./az.js":19,"./be":20,"./be.js":20,"./bg":21,"./bg.js":21,"./bn":22,"./bn.js":22,"./bo":23,"./bo.js":23,"./br":24,"./br.js":24,"./bs":25,"./bs.js":25,"./ca":26,"./ca.js":26,"./cs":27,"./cs.js":27,"./cv":28,"./cv.js":28,"./cy":29,"./cy.js":29,"./da":30,"./da.js":30,"./de":33,"./de-at":31,"./de-at.js":31,"./de-ch":32,"./de-ch.js":32,"./de.js":33,"./dv":34,"./dv.js":34,"./el":35,"./el.js":35,"./en-au":36,"./en-au.js":36,"./en-ca":37,"./en-ca.js":37,"./en-gb":38,"./en-gb.js":38,"./en-ie":39,"./en-ie.js":39,"./en-nz":40,"./en-nz.js":40,"./eo":41,"./eo.js":41,"./es":43,"./es-do":42,"./es-do.js":42,"./es.js":43,"./et":44,"./et.js":44,"./eu":45,"./eu.js":45,"./fa":46,"./fa.js":46,"./fi":47,"./fi.js":47,"./fo":48,"./fo.js":48,"./fr":51,"./fr-ca":49,"./fr-ca.js":49,"./fr-ch":50,"./fr-ch.js":50,"./fr.js":51,"./fy":52,"./fy.js":52,"./gd":53,"./gd.js":53,"./gl":54,"./gl.js":54,"./gom-latn":55,"./gom-latn.js":55,"./he":56,"./he.js":56,"./hi":57,"./hi.js":57,"./hr":58,"./hr.js":58,"./hu":59,"./hu.js":59,"./hy-am":60,"./hy-am.js":60,"./id":61,"./id.js":61,"./is":62,"./is.js":62,"./it":63,"./it.js":63,"./ja":64,"./ja.js":64,"./jv":65,"./jv.js":65,"./ka":66,"./ka.js":66,"./kk":67,"./kk.js":67,"./km":68,"./km.js":68,"./kn":69,"./kn.js":69,"./ko":70,"./ko.js":70,"./ky":71,"./ky.js":71,"./lb":72,"./lb.js":72,"./lo":73,"./lo.js":73,"./lt":74,"./lt.js":74,"./lv":75,"./lv.js":75,"./me":76,"./me.js":76,"./mi":77,"./mi.js":77,"./mk":78,"./mk.js":78,"./ml":79,"./ml.js":79,"./mr":80,"./mr.js":80,"./ms":82,"./ms-my":81,"./ms-my.js":81,"./ms.js":82,"./my":83,"./my.js":83,"./nb":84,"./nb.js":84,"./ne":85,"./ne.js":85,"./nl":87,"./nl-be":86,"./nl-be.js":86,"./nl.js":87,"./nn":88,"./nn.js":88,"./pa-in":89,"./pa-in.js":89,"./pl":90,"./pl.js":90,"./pt":92,"./pt-br":91,"./pt-br.js":91,"./pt.js":92,"./ro":93,"./ro.js":93,"./ru":94,"./ru.js":94,"./sd":95,"./sd.js":95,"./se":96,"./se.js":96,"./si":97,"./si.js":97,"./sk":98,"./sk.js":98,"./sl":99,"./sl.js":99,"./sq":100,"./sq.js":100,"./sr":102,"./sr-cyrl":101,"./sr-cyrl.js":101,"./sr.js":102,"./ss":103,"./ss.js":103,"./sv":104,"./sv.js":104,"./sw":105,"./sw.js":105,"./ta":106,"./ta.js":106,"./te":107,"./te.js":107,"./tet":108,"./tet.js":108,"./th":109,"./th.js":109,"./tl-ph":110,"./tl-ph.js":110,"./tlh":111,"./tlh.js":111,"./tr":112,"./tr.js":112,"./tzl":113,"./tzl.js":113,"./tzm":115,"./tzm-latn":114,"./tzm-latn.js":114,"./tzm.js":115,"./uk":116,"./uk.js":116,"./ur":117,"./ur.js":117,"./uz":119,"./uz-latn":118,"./uz-latn.js":118,"./uz.js":119,"./vi":120,"./vi.js":120,"./x-pseudo":121,"./x-pseudo.js":121,"./yo":122,"./yo.js":122,"./zh-cn":123,"./zh-cn.js":123,"./zh-hk":124,"./zh-hk.js":124,"./zh-tw":125,"./zh-tw.js":125};a.keys=function(){return Object.keys(r)},a.resolve=i,t.exports=a,a.id=144},148:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},149:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(3),i=n.n(a),r=n(2);n.n(r);n(9)(i.a),e.default={props:["sensorList","update"],computed:{getData:function(){return this.sensorList.map(function(t){var e=t.RealTemp,n="";return n=e<30?"#0ce36b":e>=30&&e<35?"#e3780c":e>=35?"#af4848":"#0ce36b",{x:t.Direction_X,y:t.Direction_Y,z:t.Direction_Z,temp:e,color:n,SensorId:t.SensorId,Collector:t.Collector,Label:t.Label}})}},data:function(){return{hovering:{x:null,y:null,z:null},chart:null}},methods:{setChart:function(){var t=this;t.clearChart(),t.chart=new i.a.Chart({credits:{enabled:!1},chart:{renderTo:t.$el,margin:60,type:"scatter",backgroundColor:"#efeff4",options3d:{enabled:!0,alpha:10,beta:30,depth:250,viewDistance:5,frame:{bottom:{size:1,color:"rgba(0,0,0,0.02)"},back:{size:1,color:"rgba(0,0,0,0.04)"},side:{size:1,color:"rgba(0,0,0,0.06)"}}}},colors:["red","blue","#EDCA4E"],title:{text:t.$route.query.Number+" 粮堆温度展示"},subtitle:{text:null},plotOptions:{scatter:{width:100,height:100,depth:100},series:{marker:{radius:8},point:{events:{click:function(){r.Platform.is.desktop||t.hovering.x===this.x&&t.hovering.y===this.y&&t.hovering.z===this.z?t.$router.push({name:"ChuanGan",params:{id:this.SensorId},query:{x:this.x,y:this.y,z:this.z,SensorId:this.SensorId,Collector:this.Collector,Label:this.Label}}):(t.hovering.x=this.x,t.hovering.y=this.y,t.hovering.z=this.z)}}}}},yAxis:{title:{text:"Y"},min:0,tickInterval:1},xAxis:{ceiling:60,title:{text:"X"},min:0,tickInterval:1,gridLineWidth:1},zAxis:{ceiling:60,labels:{enabled:!1},tickInterval:1,min:1,title:{text:null,useHTML:!0}},legend:{enabled:!1},tooltip:{formatter:function(){return" x坐标: <b>"+this.point.x+" —["+this.point.SensorId+"]</b><br/>\n             y坐标: <b>"+this.point.y+" —["+this.point.Label+"]</b><br/>\n             z坐标: <b>"+this.point.z+" —["+this.point.Collector+"]</b><br/>\n             温度:<b> "+this.point.temp+"</b>"}},series:[{data:t.getData}]}),t.chart.container.addEventListener("mousedown",t.startDrag),t.chart.container.addEventListener("touchstart",t.startDrag)},startDrag:function(t){function e(t){r=l+(o-t.pageX)/u,r=Math.min(100,Math.max(-100,r)),a.chart.options.chart.options3d.beta=r,i=c+(t.pageY-s)/u,i=Math.min(100,Math.max(-100,i)),a.chart.options.chart.options3d.alpha=i,a.chart.redraw(!1)}function n(){document.removeEventListener("mousemove",e),document.removeEventListener("touchdrag",e),document.removeEventListener("mouseup",n),document.removeEventListener("touchend",n)}var a=this;if(a.chart){t=a.chart.pointer.normalize(t);var i,r,o=t.pageX,s=t.pageY,c=a.chart.options.chart.options3d.alpha,l=a.chart.options.chart.options3d.beta,u=5;document.addEventListener("mousemove",e),document.addEventListener("touchdrag",e),document.addEventListener("mouseup",n),document.addEventListener("touchend",n)}},clearChart:function(){this.chart&&(this.chart.container.removeEventListener("mousedown",this.startDrag),this.chart.container.removeEventListener("touchstart",this.startDrag),this.chart.destroy())}},mounted:function(){this.$nextTick(function(){this.setChart()})},watch:{update:"setChart"}}},150:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(3),i=n.n(a),r=n(2);n.n(r);n(131)(i.a),e.default={props:["sensorList","update","LineCount"],computed:{getData:function(){var t=[],e={};return this.sensorList.forEach(function(n){var a=n.RealTemp,i="";i=a<30?"#0ce36b":a>=30&&a<35?"#e3780c":a>=35?"#af4848":"#0ce36b",n.Direction_Y in e?t[e[n.Direction_Y]].data.push({x:n.Direction_X,y:n.Direction_Y,temp:a,color:i,SensorId:n.SensorId,Collector:n.Collector,Label:n.Label}):(e[n.Direction_Y]=t.length,t.push({name:n.Direction_Y,marker:{symbol:"square"},color:"#90ed7d",data:[{x:n.Direction_X,y:n.Direction_Y,temp:a,color:i,SensorId:n.SensorId,Collector:n.Collector,Label:n.Label}]}))}),t},getPolarData:function(){var t=this;return this.sensorList.filter(function(e){return e.Direction_X===t.x}).map(function(e){var n=e.RealTemp,a="";a=n<30?"#0ce36b":n>=30&&n<35?"#e3780c":n>=35?"#af4848":"#0ce36b";var i=0,r=void 0,o=void 0;return t.LineCount.some(function(t,n){var a=e.Direction_Y-i;return a<=t?(r=parseInt(360*a/t),o=n+1,!0):(i+=t,!1)}),{x:r,y:o,temp:n,color:a,number:e.Direction_Y,SensorId:e.SensorId,Collector:e.Collector,Label:e.Label}})}},data:function(){return{hovering:{x:null,y:null,z:null},x:null,chart:null,polarChart:null}},methods:{modalEvent:function(t){console.log(t),"open"===t&&this.setPolarChart()},setChart:function(){var t=this;t.clearChart();var e={chart:{renderTo:this.$refs.chart,type:"line",inverted:!0},title:{text:t.$route.query.Number+" 粮堆温度展示"},subtitle:{},credits:{enabled:!1},legend:{enabled:!1},xAxis:{reversed:!0,title:{enabled:!0,text:"Length"},labels:{formatter:function(){return this.value}},maxPadding:.01,showLastLabel:!0,min:0,tickInterval:1},yAxis:{title:{text:"Labels"},labels:{formatter:function(){return this.value}},lineWidth:1,tickInterval:1},tooltip:{headerFormat:"",pointFormat:"<b>采集器:{point.Collector}</b><br/>传感线:{point.Label}<br/>传感器:{point.SensorId}<br/>单位深度:{point.x}<br/>单位温度: {point.temp}"},plotOptions:{spline:{marker:{enable:!1}},series:{point:{events:{click:function(){r.Platform.is.desktop||t.hovering.x===this.x&&t.hovering.y===this.y&&t.hovering.z===this.z?(t.x=this.x,t.$refs.modal.open()):(t.hovering.x=this.x,t.hovering.y=this.y,t.hovering.z=this.z)}}}}},series:t.getData};console.log(t.getData),t.chart=new i.a.Chart(e)},clearChart:function(){this.chart&&this.chart.destroy()},setPolarChart:function(){var t=this;t.clearPolarChart();var e={chart:{renderTo:this.$refs.polarChart,polar:!0},title:{text:!1},pane:{startAngle:0,endAngle:360},xAxis:{reversed:!1,title:{enabled:!1},labels:{formatter:function(){return 0===this.value?"北":""}},maxPadding:.01,showLastLabel:!0,min:0,max:360,step:45},yAxis:{min:0,max:this.LineCount.length,tickInterval:1,labels:{enabled:!1}},plotOptions:{column:{pointPadding:0,groupPadding:0},series:{point:{events:{click:function(){r.Platform.is.desktop||t.hovering.x===this.x&&t.hovering.y===this.y&&t.hovering.z===this.z?(t.$refs.modal.close(),t.$router.push({name:"ChuanGan",params:{id:this.SensorId},query:{x:this.x,y:this.y,z:this.z,SensorId:this.SensorId,Collector:this.Collector,Label:this.Label}})):(t.hovering.x=this.x,t.hovering.y=this.y,t.hovering.z=this.z)}}}}},series:[{name:"传感器",lineWidth:0,states:{hover:{lineWidth:0,lineWidthPlus:0}},data:t.getPolarData,pointPlacement:"between"}],credits:{enabled:!1},tooltip:{headerFormat:"",pointFormat:"<b>编号: {point.number}</b><br/>采集器:{point.Collector}<br/>传感线:{point.Label}<br/>传感器:{point.SensorId}<br/>单位深度:"+t.x+"<br/>单位温度: {point.temp}"}};t.polarChart=new i.a.Chart(e)},clearPolarChart:function(){this.polarChart&&this.polarChart.destroy()}},mounted:function(){this.setChart()},watch:{update:"setChart"}}},151:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(3),i=n.n(a);n(9)(i.a),e.default={props:["type"],data:function(){return{heapTempData:[]}},methods:{getTemp:function(){return this.heapTempData.sort(function(t,e){return new Date(t.StampTime)-new Date(e.StampTime)}).map(function(t){return[new Date(t.StampTime).getTime(),t.Temp]})},fetchData:function(){var t=this;this.$http.get(this.serverAddress+"/Granary/GetSensorsChart/"+this.$route.params.id+"/"+this.type).then(function(e){if(1e3===e.data.Code)try{t.heapTempData=JSON.parse(e.data.JsonValue)}catch(e){t.heapTempData=[]}else t.heapTempData=[];t.setChart()},function(){t.heapTempData=[],t.setChart()})},setChart:function(){var t=this.$route.query;new i.a.Chart({credits:{enabled:!1},chart:{renderTo:this.$refs.chart,type:"spline"},title:{style:{color:"#333333",fontSize:"12px"},align:screenLeft,text:"传感器:"+t.SensorId+"[x:"+t.x+"]<br>传感线:"+t.Label+"[y:"+t.y+"]<br>采集分机:"+t.Collector+"[z:"+t.z+"]"},xAxis:{type:"datetime",dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%m-%d",week:"%m-%d",month:"%Y-%m",year:"%Y"}},yAxis:{title:{text:"温度"},plotLines:[{value:0,width:1,color:"#808080"}]},tooltip:{valueSuffix:"°C",dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%Y-%m-%d",week:"%m-%d",month:"%Y-%m",year:"%Y"}},legend:{borderWidth:0},series:[{name:"温度",data:this.getTemp(1)}]})}},mounted:function(){this.fetchData()},watch:{type:"fetchData"}}},152:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["sensorList"],computed:{length:function(){var t=0;return this.sensorData.forEach(function(e){e.forEach(function(e){e.length>t&&(t=e.length)})}),t},sensorData:function(){var t=[];return this.sensorList.forEach(function(e){var n=e.RealTemp,a="";a=n<20?"#0000ff":n>=20&&n<22?"#003399":n>=22&&n<24?"0099cc":n>=24&&n<28?"ffcc00":"ff0000",t[e.Direction_Y]?t[e.Direction_Y][e.Direction_X]||(t[e.Direction_Y][e.Direction_X]=[]):(t[e.Direction_Y]=[],t[e.Direction_Y][e.Direction_X]=[]),t[e.Direction_Y][e.Direction_X][e.Direction_Z]={x:e.Direction_X,y:e.Direction_Y,z:e.Direction_Z,temp:n,color:a}}),console.log(t),t}},data:function(){return{}},created:function(){},mounted:function(){}}},153:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(8),i=n(2),r=n.n(i),o=n(130),s=n(126),c=n.n(s),l=(n(10),n(129)),u=(n.n(l),n(5)),h=n.n(u),d=n(7),m=n.n(d),p=n(6),v=n.n(p),f=n(4),b=n.n(f);n(128),a.a.use(r.a),a.a.use(c.a),a.a.component("chuangan3d",h.a),a.a.component("chuanganpingmian",m.a),a.a.component("chuanganchart",v.a),a.a.component("chuanganline",b.a),a.a.mixin({data:function(){return{serverAddress:"/api"}}}),r.a.start(function(){new a.a({el:"#q-app",router:o.a,render:function(t){return t(n(127))}})})},154:function(t,e,n){function a(t){var e=i[t];return e?Promise.all(e.slice(1).map(n.e)).then(function(){return n(e[0])}):Promise.reject(new Error("Cannot find module '"+t+"'."))}var i={"./AoJian/CangCard.vue":[158,18],"./BuMen/EditBumen.vue":[159,20],"./Error404.vue":[162,6],"./Grain.vue":[163,12],"./GrainList/AoJianList.vue":[164,16],"./GrainList/DuiWei.vue":[165,15],"./GrainList/EditGrain.vue":[160,1],"./GuanLi.vue":[166,10],"./Index.vue":[167,5],"./common/chuangan3d.vue":[5],"./common/chuanganLine.vue":[4],"./common/chuanganchart.vue":[6],"./common/chuanganpingmian.vue":[7],"./common/liangcangchart.vue":[161,8],"./layout/Hello.vue":[168,9],"./page/GrainList.vue":[169,17],"./view/AoJian.vue":[170,4],"./view/ChuanGan.vue":[171,14],"./view/DuiWeiMo.vue":[172,19],"./view/GrainList.vue":[173,0],"./view/GuanLi/BuMen.1.vue":[174,11],"./view/GuanLi/BuMen.vue":[175,2],"./view/GuanLi/CGQGL.vue":[176,13],"./view/Hello.vue":[177,7],"./view/LiangCang.vue":[178,3]};a.keys=function(){return Object.keys(i)},t.exports=a,a.id=154},155:function(t,e){},4:function(t,e,n){n(142);var a=n(1)(n(150),n(136),"data-v-a6c13672",null);t.exports=a.exports},5:function(t,e,n){n(143);var a=n(1)(n(149),n(137),"data-v-d9dde8f8",null);t.exports=a.exports},6:function(t,e,n){n(139);var a=n(1)(n(151),n(133),"data-v-3bc9b6bb",null);t.exports=a.exports},7:function(t,e,n){n(141);var a=n(1)(n(152),n(135),"data-v-64192a24",null);t.exports=a.exports}},[153]);